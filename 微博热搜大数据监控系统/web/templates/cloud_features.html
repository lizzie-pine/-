<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>微博热搜大数据监控系统 - 云计算特性</title>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  <style>
    :root { --primary: #1677ff; --bg: #f0f2f5; --card: #ffffff; }
    body { font-family: "PingFang SC","Microsoft YaHei",sans-serif; background: var(--bg); margin: 0; padding: 20px; }
    .container { max-width: 1200px; margin: 0 auto; }

    .header {
      background: var(--card);
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      margin-bottom: 20px;
      text-align: center;
    }
    .header h1 { margin: 0; font-size: 24px; color: #1a1a1a; }
    .header p { margin: 10px 0 0 0; color: #666; }

    .nav {
      background: var(--card);
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      margin-bottom: 20px;
    }
    .nav a {
      display: inline-block;
      padding: 8px 16px;
      margin-right: 10px;
      text-decoration: none;
      color: #666;
      border-radius: 6px;
      transition: all 0.3s;
    }
    .nav a:hover {
      background: #e6f7ff;
      color: var(--primary);
    }
    .nav a.active {
      background: var(--primary);
      color: white;
    }

    .card {
      background: var(--card);
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      margin-bottom: 20px;
    }
    .card h2 {
      margin-top: 0;
      color: #1a1a1a;
      border-left: 4px solid var(--primary);
      padding-left: 15px;
    }
    .card h3 {
      color: #333;
      margin-top: 20px;
    }
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .feature-item {
      background: #fafafa;
      padding: 20px;
      border-radius: 8px;
      border-left: 4px solid var(--primary);
    }
    .feature-item h4 {
      margin-top: 0;
      color: var(--primary);
    }
    .feature-item p {
      color: #666;
      line-height: 1.6;
    }
    .optimization-list {
      list-style-type: none;
      padding: 0;
    }
    .optimization-list li {
      padding: 15px;
      margin-bottom: 10px;
      background: #fafafa;
      border-radius: 8px;
      border-left: 4px solid #52c41a;
    }
    .optimization-list strong {
      color: #52c41a;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>微博热搜大数据监控系统</h1>
      <p>基于Hadoop分布式计算的微博热搜实时分析平台</p>
    </div>

    <div class="nav">
      <a href="/">首页</a>
      <a href="/cloud_features" class="active">云计算特性</a>
    </div>

    <!-- 云计算特性 -->
    <div class="card">
      <h2>1. 云计算特性体现</h2>
      <div class="feature-grid">
        <div class="feature-item">
          <h4>弹性扩展性</h4>
          <p>Hadoop集群采用分布式架构设计，支持水平扩展。当数据量增长时，可以通过添加新的DataNode节点来扩展存储和计算能力，无需修改现有系统架构。系统会自动将数据和计算任务分发到新节点上，实现无缝扩展。</p>
        </div>
        <div class="feature-item">
          <h4>资源虚拟化</h4>
          <p>采用Docker容器化技术部署Hadoop、Kafka等组件，实现资源的高效隔离和利用。每个组件运行在独立的容器中，避免了环境冲突，同时提高了资源利用率。容器化部署也使得系统的迁移和扩展更加便捷。</p>
        </div>
        <div class="feature-item">
          <h4>按需服务</h4>
          <p>提供Web界面和RESTful API，用户可以随时访问最新的热搜数据和分析结果。系统支持手动刷新和自动定期刷新，根据用户需求提供实时数据服务。同时，系统还支持历史数据查询和趋势分析，满足不同场景的需求。</p>
        </div>
        <div class="feature-item">
          <h4>分布式计算</h4>
          <p>基于MapReduce框架实现大规模数据处理，将复杂的计算任务分解为多个子任务，在集群中的多个节点上并行执行，显著提高了处理效率。同时，系统采用数据本地性原则，减少了网络传输开销。</p>
        </div>
        <div class="feature-item">
          <h4>高可用性</h4>
          <p>Hadoop集群采用主从架构设计，NameNode、ResourceManager等关键组件支持高可用配置。当主节点故障时，备用节点会自动接管，确保系统的持续运行。同时，数据采用多副本存储，提高了数据的可靠性。</p>
        </div>
        <div class="feature-item">
          <h4>成本效益</h4>
          <p>采用开源软件栈（Hadoop、Docker、Kafka等），降低了软件授权成本。同时，分布式架构允许使用普通硬件构建高性能集群，避免了对高端硬件的依赖，进一步降低了部署成本。</p>
        </div>
      </div>
    </div>

    <!-- Hadoop集群利用 -->
    <div class="card">
      <h2>2. Hadoop集群充分利用</h2>
      <h3>2.1 MapReduce任务扩展</h3>
      <div class="feature-grid">
        <div class="feature-item">
          <h4>热搜词共现关系计算</h4>
          <p>通过MapReduce实现热搜词之间的共现关系计算，分析哪些关键词经常一起出现。这有助于发现热点事件之间的关联，深入理解用户关注点。系统采用两两组合算法，生成共现词对并统计其出现频率。</p>
        </div>
        <div class="feature-item">
          <h4>时段热搜分布统计</h4>
          <p>分析不同时间段（小时级）的热搜词分布情况，了解热点事件的时间变化趋势。系统将热搜数据按小时分组，统计每个时段的热搜词数量、总热度和主要关键词，为用户提供时间维度的分析视角。</p>
        </div>
        <div class="feature-item">
          <h4>关键词分类统计</h4>
          <p>基于关键词规则对热搜词进行分类（娱乐、社会、科技等），统计不同类别的占比和热度分布。这有助于了解不同领域的热点关注情况，为内容运营和决策提供数据支持。</p>
        </div>
      </div>
      
      <h3>2.2 Kafka实时流处理（待实现）</h3>
      <p>系统预留了Kafka实时流处理接口，未来将支持：</p>
      <ul>
        <li>实时数据采集和处理，降低数据延迟</li>
        <li>流批结合的处理架构，支持实时和离线分析</li>
        <li>事件驱动的架构设计，提高系统响应速度</li>
      </ul>
    </div>

    <!-- 性能优化说明 -->
    <div class="card">
      <h2>3. 性能优化说明</h2>
      
      <h3>3.1 MapReduce任务性能优化</h3>
      <ul class="optimization-list">
        <li>
          <strong>数据本地性优化</strong>：利用Hadoop的数据本地性原则，将计算任务分配到数据所在的节点上执行，减少网络传输开销。
        </li>
        <li>
          <strong>MapReduce参数调优</strong>：根据集群规模和数据量调整Map和Reduce任务数量，优化内存分配和任务调度策略。
        </li>
        <li>
          <strong>输入数据预处理</strong>：在Map阶段前进行数据清洗和过滤，减少不必要的计算开销。
        </li>
        <li>
          <strong>输出结果压缩</strong>：对MapReduce任务的输出结果进行压缩，减少磁盘IO和网络传输开销。
        </li>
      </ul>
      
      <h3>3.2 数据清洗效率优化</h3>
      <ul class="optimization-list">
        <li>
          <strong>选择jieba分词工具</strong>：
          <ul>
            <li>轻量级设计，内存占用小，适合大规模数据处理</li>
            <li>中文分词效果好，支持自定义词典和用户词典</li>
            <li>支持多种分词模式（精确模式、全模式、搜索引擎模式）</li>
            <li>社区活跃，更新维护及时</li>
          </ul>
        </li>
        <li>
          <strong>并行分词处理</strong>：对大规模数据采用并行分词策略，提高处理效率。
        </li>
        <li>
          <strong>停用词过滤优化</strong>：使用HashSet存储停用词，实现O(1)时间复杂度的查询。
        </li>
        <li>
          <strong>正则表达式优化</strong>：优化正则表达式模式，提高匹配效率。
        </li>
      </ul>
      
      <h3>3.3 前端性能优化</h3>
      <ul class="optimization-list">
        <li>
          <strong>刷新频率控制</strong>：设置合理的自动刷新间隔（10分钟），避免频繁请求后端服务。
        </li>
        <li>
          <strong>数据缓存策略</strong>：前端缓存部分数据，减少重复请求。
        </li>
        <li>
          <strong>图表渲染优化</strong>：使用ECharts的增量渲染功能，避免全量重绘。
        </li>
        <li>
          <strong>异步加载</strong>：采用异步加载数据和资源，提高页面响应速度。
        </li>
        <li>
          <strong>数据分页</strong>：对大量数据采用分页展示，减少DOM节点数量。
        </li>
      </ul>
      
      <h3>3.4 系统架构优化</h3>
      <ul class="optimization-list">
        <li>
          <strong>分层架构设计</strong>：采用数据采集、处理、存储、可视化分层架构，各层之间松耦合，便于扩展和维护。
        </li>
        <li>
          <strong>异步处理</strong>：对耗时操作采用异步处理方式，提高系统响应速度。
        </li>
        <li>
          <strong>负载均衡</strong>：未来将引入负载均衡机制，分散系统压力。
        </li>
        <li>
          <strong>缓存机制</strong>：引入Redis等缓存组件，提高数据访问速度。
        </li>
      </ul>
    </div>

    <!-- 性能瓶颈分析 -->
    <div class="card">
      <h2>4. MapReduce任务性能瓶颈分析</h2>
      <h3>4.1 常见瓶颈</h3>
      <ul>
        <li><strong>数据倾斜</strong>：某些Key的出现频率过高，导致部分Reduce任务负载过重。</li>
        <li><strong>内存不足</strong>：Map或Reduce任务内存分配不足，导致频繁GC或OOM。</li>
        <li><strong>磁盘IO瓶颈</strong>：数据读写速度慢，影响任务执行效率。</li>
        <li><strong>网络传输开销</strong>：数据在节点间传输占用大量网络带宽。</li>
        <li><strong>任务调度开销</strong>：任务启动和调度时间过长。</li>
      </ul>
      
      <h3>4.2 解决方案</h3>
      <ul>
        <li><strong>数据倾斜处理</strong>：采用Key加盐、数据预处理、自定义分区等方法解决数据倾斜问题。</li>
        <li><strong>内存优化</strong>：合理调整JVM参数，优化内存分配。</li>
        <li><strong>磁盘IO优化</strong>：使用SSD存储、调整HDFS块大小、优化文件合并策略。</li>
        <li><strong>网络传输优化</strong>：使用数据压缩、优化数据本地性、减少Shuffle数据量。</li>
        <li><strong>任务调度优化</strong>：调整任务粒度、优化资源分配策略。</li>
      </ul>
    </div>
  </div>
</body>
</html>